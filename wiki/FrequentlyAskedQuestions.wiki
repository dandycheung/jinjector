#summary Answers to some of your questions:)
#labels Phase-Support,Phase-QA

= FAQ - Frequently Asked Questions =

This is a collection of all the questions we have been receiving.


=== Why does Ant report the following error: "Buildfile: build.xml does not exist!"? ===

No target file has been specified. use "ant -f <build-filename.xml>"

=== Why does the collected coverage file coverage.lcov is empty? ===

This happens when no class has been included in the coverage list. In the properties file, under the coverage loadable edit the following property by inserting your package name:

{{{
coverageInclusionList=+org/package/subpackagetoinclude 
}}}

You can use "+" and "-" to include or exclude packages:

{{{
coverageInclusionList=+org/package/toinclude -org/package/toexclude
}}}

=== What is a Loadable and how do I create one? ===

A Loadable
http://code.google.com/p/jinjector/source/browse/trunk/jinjector_tool/src/com/google/devtools/build/wireless/testing/java/injector/Loadable.java
is a component which may be loaded at runtime by JInjector to
instrument your code.

Loadables need to be specified in the properties file
http://code.google.com/p/jinjector/source/browse/trunk/jinjector_mobile/jinjector-default.properties
and JInjector loads and apply them in the same order as they are
specified.

To implement a Loadable you need to consider 3 different aspects:
  # What your component should do BEFORE the instrumentation. This are usually initializations or actions which strictly need to be performed before any other instrumentations. This kind of pre-operations are not very common and depends in what are you trying to achieve. An example could be initializing a collection for counting or measuring the number of instrumented classes, or the number of invocation of a certain method.
  # The instrumentation itself, which usually consist in extending a ClassAdapter and a MethodAdapter which are two visitors one for the class structure one for the method body. See http://asm.objectweb.org/ for a detailed tutorial.
  # What your component should do at the end of the instrumentation. A sort of final operation after all the other classes have been instrumented.

Loadables can read properties directly from the properties file.
See
http://code.google.com/p/jinjector/source/browse/trunk/jinjector_tool/src/com/google/devtools/build/wireless/testing/java/injector/ReplayLoadable.java
which is a good example, simple and clear or
http://code.google.com/p/jinjector/source/browse/trunk/jinjector_tool/src/com/google/devtools/build/wireless/testing/java/injector/coverage/CoverageLoadable.java
which is a more complete example. 

=== Which version of the JDK do we need to use? ===
JInjector is written using features from Java 6 so you need version 6 (or newer) of the JDK. We've tested it with Open JDK and with Sun's JDK.


=== Why does genhtml cannot find my classes? ===

Genhtml requires each single java file to be listed using an absolute path or a path relative from where the command is executed. JInjector guess the java file name and location using class and package name (and debug informations). However JInjector cannot guess the position of your java class in your file system.

If the source files that you have included for coverage comes from the same directory you can run genhtml from that directory and it will work.

If your source files comes from multiple directory (e.g. _src_ and _tests_) then it will be necessary to pre-process the lcov file and replacing the guessed path with the real one. This can be done with a shell script.